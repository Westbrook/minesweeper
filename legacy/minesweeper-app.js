System.register(["./chunk-263e54a9.js"],function(e,t){"use strict";var n,i,r,u,s,a,o,c,l,f;return{setters:[function(e){n=e.a,i=e.b,r=e.c,u=e.d,s=e.e,a=e.f,o=e.g,c=e.h,l=e.i,f=e.j}],execute:function(){function e(){var t=l([":host{display:flex;align-items:center;flex-shrink:0;height:48px}"]);return e=function(){return t},t}function h(){var e=l([":host(:nth-last-child(2)){height:100%;flex-direction:column;justify-content:center;align-items:center}:host(:nth-last-child(2))>*{padding:10px}"]);return h=function(){return e},e}function d(){var e=l([":host(:nth-last-child(1)){height:100%;flex-direction:column;justify-content:center;align-items:center}:host(:nth-last-child(1))>*{padding:10px}"]);return d=function(){return e},e}function m(){var e=l(["<option value="," ?selected=",">","</option>"]);return m=function(){return e},e}function y(){var e=l(["<button @click=",">New Game</button> <label>Difficulty <select @change=","><option disabled=disabled>Select Difficulty</option>","</select></label>"]);return y=function(){return e},e}var g=[0,1,2,3,4,5,6,7,8,9],p=function(t){function l(){var e;return r(this,l),(e=u(this,s(l).call(this))).difficulty=1,e}return n(l,c),i(l,null,[{key:"properties",get:function(){return{difficulty:{type:Number}}}}]),i(l,[{key:"_newGame",value:function(){this.dispatchEvent(new CustomEvent("minesweeper-new-game",{bubbles:!0,composed:!0,detail:{difficulty:this.difficulty}}))}},{key:"_changeDifficulty",value:function(e){this.difficulty=e.target.value,this._newGame()}},{key:"render",value:function(){var e=this;return a(y(),this._newGame,this._changeDifficulty,g.map(function(t){return a(m(),t+1,e.difficulty===t+1,t+1)}))}}],[{key:"styles",get:function(){var t=o(d()),n=o(h());return[o(e()),document.adoptedStyleSheets?t:n]}}]),l}();function v(){var e=l([":host{display:flex;flex-direction:column;flex-grow:1;height:100vh;--minesweeper-square-size:50px}.dark-theme{--color-square-background:black;--color-square-focus:neongreen;--color-square-border:lightblue;--color-danger-low:green;--color-danger-medium:yellow;--color-danger-high:orange;--color-danger-worry:red;--color-dead:white}"]);return v=function(){return e},e}function w(){var e=l([""]);return w=function(){return e},e}function b(){var e=l(["<minesweeper-board style="," .board="," .mines="," @minesweeper-game-over=","></minesweeper-board>"]);return b=function(){return e},e}function k(){var e=l(["<minesweeper-menu difficulty="," @minesweeper-new-game=","></minesweeper-menu>",""]);return k=function(){return e},e}customElements.define("minesweeper-menu",p);var N=function(e){function l(){var e;return r(this,l),(e=u(this,s(l).call(this))).width=0,e.height=0,e.board=f,e.mines=0,e.difficulty=5,e.squareSize=50,e}return n(l,c),i(l,null,[{key:"properties",get:function(){return{width:{type:Number},height:{type:Number},across:{type:Number},down:{type:Number},board:{type:Array},mines:{type:Number,hasChanged:function(){return!1}},difficulty:{type:Number},squareSize:{type:Number}}}}]),i(l,[{key:"measure",value:function(){t.import("./minesweeper-board-7959e10f.js"),this.width=this.offsetWidth,this.height=this.offsetHeight,this.startNewGame()}},{key:"startNewGame",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{detail:{difficulty:!1}};this.difficulty=e.detail.difficulty||this.difficulty,this.createBoard()}},{key:"createBoard",value:function(){var e=Math.floor(this.width/this.squareSize);this.across=e;var t=Math.floor(this.height/this.squareSize);this.down=t;var n=t,i=Array(e);for(this.mines=0;e;)for(i[e-=1]=Array(t),t=n;t;)t-=1,i[e][t]=this._setSquare();this.board=i}},{key:"_setSquare",value:function(){var e=Math.round(100*Math.random())<=4*this.difficulty;return e&&(this.mines+=1),{state:e?"MINE":"NOT_MINE"}}},{key:"_gameOver",value:function(){var e=this;requestIdleCallback(function(){return e._requestNewGame()})}},{key:"_requestNewGame",value:function(){window.confirm("Game Over.\n\n\nStart a new game?")&&this.startNewGame()}},{key:"render",value:function(){return a(k(),this.difficulty,this.measure,this.across&&this.down?a(b(),"--columns:".concat(this.across,";--rows:").concat(this.down,";"),this.board,this.mines,this._gameOver):a(w()))}}],[{key:"styles",get:function(){return[o(v())]}}]),l}();customElements.define("minesweeper-app",N)}}});
//# sourceMappingURL=minesweeper-app.js.map
