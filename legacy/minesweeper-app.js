System.register(["./chunk-9e28a0ab.js"],function(e,t){"use strict";var r,i,n,u,a,s,o,c,l;return{setters:[function(e){r=e.a,i=e.b,n=e.c,u=e.d,a=e.e,s=e.f,o=e.g,c=e.h,l=e.i}],execute:function(){function f(){var e=l([":host{display:flex;align-items:center;flex-shrink:0;height:48px}"]);return f=function(){return e},e}function h(){var e=l(["<option value="," ?selected=",">","</option>"]);return h=function(){return e},e}function d(){var e=l(["<button @click=",">New Game</button> <label>Difficulty <select @change=","><option disabled=disabled>Select Difficulty</option>","</select></label>"]);return d=function(){return e},e}var m=Array.apply(null,{length:10}).map(Number.call,Number),y=function(e){function t(){var e;return n(this,t),(e=u(this,a(t).call(this))).difficulty=1,e}return r(t,c),i(t,null,[{key:"properties",get:function(){return{difficulty:{type:Number}}}}]),i(t,[{key:"_newGame",value:function(){this.dispatchEvent(new CustomEvent("minesweeper-new-game",{bubbles:!0,composed:!0,detail:{difficulty:this.difficulty}}))}},{key:"_changeDifficulty",value:function(e){this.difficulty=e.target.value,this._newGame()}},{key:"render",value:function(){var e=this;return s(d(),this._newGame,this._changeDifficulty,m.map(function(t){return s(h(),t+1,e.difficulty===t+1,t+1)}))}}],[{key:"styles",get:function(){return[o(f())]}}]),t}();function p(){var e=l([":host{display:flex;flex-direction:column;flex-grow:1;height:100vh;--minesweeper-square-size:50px}.dark-theme{--color-square-background:black;--color-square-focus:neongreen;--color-square-border:lightblue;--color-danger-low:green;--color-danger-medium:yellow;--color-danger-high:orange;--color-danger-worry:red;--color-dead:white}"]);return p=function(){return e},e}function w(){var e=l(["<minesweeper-menu difficulty="," @minesweeper-new-game=","></minesweeper-menu><minesweeper-board style="," .board="," .mines="," @minesweeper-game-over=","></minesweeper-board>"]);return w=function(){return e},e}customElements.define("minesweeper-menu",y);var g=e("defaultBoard",[]),v=function(e){function l(){var e;return n(this,l),(e=u(this,a(l).call(this))).width=0,e.height=0,e.board=g,e.mines=0,e.difficulty=5,e.squareSize=50,e}return r(l,c),i(l,null,[{key:"properties",get:function(){return{width:{type:Number},height:{type:Number},across:{type:Number},down:{type:Number},board:{type:Array},mines:{type:Number,hasChanged:function(){return!1}},difficulty:{type:Number},squareSize:{type:Number}}}}]),i(l,[{key:"measure",value:function(){this.width=this.offsetWidth,this.height=this.offsetHeight,this.startNewGame()}},{key:"startNewGame",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{detail:{difficulty:!1}};this.difficulty=e.detail.difficulty||this.difficulty,this.createBoard()}},{key:"createBoard",value:function(){var e=this.across=Math.floor(this.width/this.squareSize),t=this.down=Math.floor(this.height/this.squareSize),r=t,i=Array(e);for(this.mines=0;e;)for(i[e-=1]=Array(t),t=r;t;)t-=1,i[e][t]=this._setSquare();this.board=i}},{key:"_setSquare",value:function(){var e=Math.round(100*Math.random())<=4*this.difficulty;return e&&(this.mines+=1),{state:e?"MINE":"NOT_MINE"}}},{key:"_gameOver",value:function(){var e=this;requestIdleCallback(function(){return e._requestNewGame()})}},{key:"_requestNewGame",value:function(){window.confirm("Game Over.\n\n\nStart a new game?")&&this.startNewGame()}},{key:"render",value:function(){return s(w(),this.difficulty,this.startNewGame,"--columns:".concat(this.across,";--rows:").concat(this.down,";"),this.board,this.mines,this._gameOver)}},{key:"firstUpdated",value:function(){var e=this;t.import("./minesweeper-board-c24dd1ac.js").then(function(){return e.measure()})}}],[{key:"styles",get:function(){return[o(p())]}}]),l}();customElements.define("minesweeper-app",v)}}});
//# sourceMappingURL=minesweeper-app.js.map
