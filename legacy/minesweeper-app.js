System.register(["./chunk-263e54a9.js"],function(e,t){"use strict";var i,r,n,u,a,s,o,c,f,l;return{setters:[function(e){i=e.a,r=e.b,n=e.c,u=e.d,a=e.e,s=e.f,o=e.g,c=e.h,f=e.i,l=e.j}],execute:function(){function e(){var t=f([":host{display:flex;align-items:center;flex-shrink:0;height:48px}"]);return e=function(){return t},t}function h(){var e=f(["<option value="," ?selected=",">","</option>"]);return h=function(){return e},e}function d(){var e=f(["<button @click=",">New Game</button> <label>Difficulty <select @change=","><option disabled=disabled>Select Difficulty</option>","</select></label>"]);return d=function(){return e},e}var m=[0,1,2,3,4,5,6,7,8,9],y=function(t){function f(){var e;return n(this,f),(e=u(this,a(f).call(this))).difficulty=1,e}return i(f,c),r(f,null,[{key:"properties",get:function(){return{difficulty:{type:Number}}}}]),r(f,[{key:"_newGame",value:function(){this.dispatchEvent(new CustomEvent("minesweeper-new-game",{bubbles:!0,composed:!0,detail:{difficulty:this.difficulty}}))}},{key:"_changeDifficulty",value:function(e){this.difficulty=e.target.value,this._newGame()}},{key:"render",value:function(){var e=this;return s(d(),this._newGame,this._changeDifficulty,m.map(function(t){return s(h(),t+1,e.difficulty===t+1,t+1)}))}}],[{key:"styles",get:function(){return[o(e())]}}]),f}();function w(){var e=f([":host{display:flex;flex-direction:column;flex-grow:1;height:100vh;--minesweeper-square-size:50px}.dark-theme{--color-square-background:black;--color-square-focus:neongreen;--color-square-border:lightblue;--color-danger-low:green;--color-danger-medium:yellow;--color-danger-high:orange;--color-danger-worry:red;--color-dead:white}"]);return w=function(){return e},e}function p(){var e=f(["<minesweeper-menu difficulty="," @minesweeper-new-game=","></minesweeper-menu><minesweeper-board style="," .board="," .mines="," @minesweeper-game-over=","></minesweeper-board>"]);return p=function(){return e},e}customElements.define("minesweeper-menu",y);var v=function(e){function f(){var e;return n(this,f),(e=u(this,a(f).call(this))).width=0,e.height=0,e.board=l,e.mines=0,e.difficulty=5,e.squareSize=50,e}return i(f,c),r(f,null,[{key:"properties",get:function(){return{width:{type:Number},height:{type:Number},across:{type:Number},down:{type:Number},board:{type:Array},mines:{type:Number,hasChanged:function(){return!1}},difficulty:{type:Number},squareSize:{type:Number}}}}]),r(f,[{key:"measure",value:function(){this.width=this.offsetWidth,this.height=this.offsetHeight,this.startNewGame()}},{key:"startNewGame",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{detail:{difficulty:!1}};this.difficulty=e.detail.difficulty||this.difficulty,this.createBoard()}},{key:"createBoard",value:function(){var e=Math.floor(this.width/this.squareSize);this.across=e;var t=Math.floor(this.height/this.squareSize);this.down=t;var i=t,r=Array(e);for(this.mines=0;e;)for(r[e-=1]=Array(t),t=i;t;)t-=1,r[e][t]=this._setSquare();this.board=r}},{key:"_setSquare",value:function(){var e=Math.round(100*Math.random())<=4*this.difficulty;return e&&(this.mines+=1),{state:e?"MINE":"NOT_MINE"}}},{key:"_gameOver",value:function(){var e=this;requestIdleCallback(function(){return e._requestNewGame()})}},{key:"_requestNewGame",value:function(){window.confirm("Game Over.\n\n\nStart a new game?")&&this.startNewGame()}},{key:"render",value:function(){return s(p(),this.difficulty,this.startNewGame,"--columns:".concat(this.across,";--rows:").concat(this.down,";"),this.board,this.mines,this._gameOver)}},{key:"firstUpdated",value:function(){var e=this;t.import("./minesweeper-board-7959e10f.js").then(function(){return e.measure()})}}],[{key:"styles",get:function(){return[o(w())]}}]),f}();customElements.define("minesweeper-app",v)}}});
//# sourceMappingURL=minesweeper-app.js.map
