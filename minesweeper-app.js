import{a as e,b as t,c as i,d as n,e as r}from"./chunk-c6b66d1b.js";function s(){const e=n(["<option value="," ?selected=",">","</option>"]);return s=function(){return e},e}function o(){const e=n(["<button @click=",">New Game</button> <label>Difficulty <select @change=","><option disabled=disabled>Select Difficulty</option>","</select></label>"]);return o=function(){return e},e}function c(){const e=n([":host{display:flex;align-items:center;flex-shrink:0;height:48px}"]);return c=function(){return e},e}function a(){const e=n([":host(:nth-last-child(2)){height:100%;flex-direction:column;justify-content:center;align-items:center}:host(:nth-last-child(2))>*{padding:10px}"]);return a=function(){return e},e}function u(){const e=n([":host(:nth-last-child(1)){height:100%;flex-direction:column;justify-content:center;align-items:center}:host(:nth-last-child(1))>*{padding:10px}"]);return u=function(){return e},e}const h=[0,1,2,3,4,5,6,7,8,9];function l(){const e=n([""]);return l=function(){return e},e}function d(){const e=n(["<minesweeper-board style="," .board="," .mines="," @minesweeper-game-over=","></minesweeper-board>"]);return d=function(){return e},e}function f(){const e=n(["<minesweeper-menu difficulty="," @minesweeper-new-game=","></minesweeper-menu>",""]);return f=function(){return e},e}function m(){const e=n([":host{display:flex;flex-direction:column;flex-grow:1;height:100vh;--minesweeper-square-size:50px}.dark-theme{--color-square-background:black;--color-square-focus:neongreen;--color-square-border:lightblue;--color-danger-low:green;--color-danger-medium:yellow;--color-danger-high:orange;--color-danger-worry:red;--color-dead:white}"]);return m=function(){return e},e}customElements.define("minesweeper-menu",class extends e{static get properties(){return{difficulty:{type:Number}}}constructor(){super(),this.difficulty=1}_newGame(){this.dispatchEvent(new CustomEvent("minesweeper-new-game",{bubbles:!0,composed:!0,detail:{difficulty:this.difficulty}}))}_changeDifficulty(e){this.difficulty=e.target.value,this._newGame()}static get styles(){const e=t(u()),i=t(a());return[t(c()),"undefined"!=typeof ShadyCSS||document.adoptedStyleSheets?e:i]}render(){return i(o(),this._newGame,this._changeDifficulty,h.map(e=>i(s(),e+1,this.difficulty===e+1,e+1)))}});customElements.define("minesweeper-app",class extends e{static get properties(){return{width:{type:Number},height:{type:Number},across:{type:Number},down:{type:Number},board:{type:Array},mines:{type:Number,hasChanged:()=>!1},difficulty:{type:Number},squareSize:{type:Number}}}constructor(){super(),this.width=0,this.height=0,this.board=r,this.mines=0,this.difficulty=5,this.squareSize=50}measure(){importModule("./minesweeper-board-29ad7e78.js"),this.width=this.offsetWidth,this.height=this.offsetHeight,this.startNewGame()}startNewGame(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{detail:{difficulty:!1}};this.difficulty=e.detail.difficulty||this.difficulty,this.createBoard()}createBoard(){let e=Math.floor(this.width/this.squareSize);this.across=e;let t=Math.floor(this.height/this.squareSize);this.down=t;const i=t,n=Array(e);for(this.mines=0;e;)for(n[e-=1]=Array(t),t=i;t;)t-=1,n[e][t]=this._setSquare();this.board=n}_setSquare(){const e=Math.round(100*Math.random())<=4*this.difficulty;return e&&(this.mines+=1),{state:e?"MINE":"NOT_MINE"}}_gameOver(){requestIdleCallback(()=>this._requestNewGame())}_requestNewGame(){window.confirm("Game Over.\n\n\nStart a new game?")&&this.startNewGame()}static get styles(){return[t(m())]}render(){return i(f(),this.difficulty,this.measure,this.across&&this.down?i(d(),"--columns:".concat(this.across,";--rows:").concat(this.down,";"),this.board,this.mines,this._gameOver):i(l()))}});
//# sourceMappingURL=minesweeper-app.js.map
