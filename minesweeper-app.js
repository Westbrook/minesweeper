import{a as e,b as t,c as i,d as r}from"./chunk-cfc15dc0.js";function s(){const e=r(["<option value="," ?selected=",">","</option>"]);return s=function(){return e},e}function n(){const e=r(["<button @click=",">New Game</button> <label>Difficulty <select @change=","><option disabled=disabled>Select Difficulty</option>","</select></label>"]);return n=function(){return e},e}function a(){const e=r([":host{display:flex;align-items:center;flex-shrink:0;height:48px}"]);return a=function(){return e},e}const o=Array.apply(null,{length:10}).map(Number.call,Number);function u(){const e=r(["<minesweeper-menu difficulty="," @minesweeper-new-game=","></minesweeper-menu><minesweeper-board style="," .board="," .mines="," @minesweeper-game-over=","></minesweeper-board>"]);return u=function(){return e},e}function c(){const e=r([":host{display:flex;flex-direction:column;flex-grow:1;height:100vh;--minesweeper-square-size:50px}.dark-theme{--color-square-background:black;--color-square-focus:neongreen;--color-square-border:lightblue;--color-danger-low:green;--color-danger-medium:yellow;--color-danger-high:orange;--color-danger-worry:red;--color-dead:white}"]);return c=function(){return e},e}customElements.define("minesweeper-menu",class extends e{static get properties(){return{difficulty:{type:Number}}}constructor(){super(),this.difficulty=1}_newGame(){this.dispatchEvent(new CustomEvent("minesweeper-new-game",{bubbles:!0,composed:!0,detail:{difficulty:this.difficulty}}))}_changeDifficulty(e){this.difficulty=e.target.value,this._newGame()}static get styles(){return[t(a())]}render(){return i(n(),this._newGame,this._changeDifficulty,o.map(e=>i(s(),e+1,this.difficulty===e+1,e+1)))}});const h=[];customElements.define("minesweeper-app",class extends e{static get properties(){return{width:{type:Number},height:{type:Number},across:{type:Number},down:{type:Number},board:{type:Array},mines:{type:Number,hasChanged:()=>!1},difficulty:{type:Number},squareSize:{type:Number}}}constructor(){super(),this.width=0,this.height=0,this.board=h,this.mines=0,this.difficulty=5,this.squareSize=50}measure(){this.width=this.offsetWidth,this.height=this.offsetHeight,this.startNewGame()}startNewGame(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{detail:{difficulty:!1}};this.difficulty=e.detail.difficulty||this.difficulty,this.createBoard()}createBoard(){let e=this.across=Math.floor(this.width/this.squareSize),t=this.down=Math.floor(this.height/this.squareSize);const i=t,r=Array(e);for(this.mines=0;e;)for(r[e-=1]=Array(t),t=i;t;)t-=1,r[e][t]=this._setSquare();this.board=r}_setSquare(){const e=Math.round(100*Math.random())<=4*this.difficulty;return e&&(this.mines+=1),{state:e?"MINE":"NOT_MINE"}}_gameOver(){requestIdleCallback(()=>this._requestNewGame())}_requestNewGame(){window.confirm("Game Over.\n\n\nStart a new game?")&&this.startNewGame()}static get styles(){return[t(c())]}render(){return i(u(),this.difficulty,this.startNewGame,"--columns:".concat(this.across,";--rows:").concat(this.down,";"),this.board,this.mines,this._gameOver)}firstUpdated(){importModule("./minesweeper-board-fcd22152.js").then(()=>this.measure())}});export{h as defaultBoard};
//# sourceMappingURL=minesweeper-app.js.map
