<link rel="import" href="../../bower_components/polymer/polymer-element.html">
<link rel="import" href="../../bower_components/polymer/lib/mixins/gesture-event-listeners.html">

<dom-module id="minesweeper-menu">
  <template>
    <style>
      :host {
        display: flex;
        align-items: center;
        flex-shrink: 0;
      }
    </style>
    <button on-tap="_newGame">New Game</button>
    <button on-tap="_changeDifficulty">Change Difficulty: [[difficulty]]</button>
  </template>

  <script>
    /**
     * @customElement
     * @polymer
     */
    class MinesweeperMenu extends Polymer.GestureEventListeners(Polymer.Element) {
      static get is() { return 'minesweeper-menu'; }
      static get properties() {
        return {
          difficulty: {
            type: Number,
            value: 1,
            notify: true
          }
        };
      }

      _newGame() {
        this.dispatchEvent(new CustomEvent('minesweeper-new-game', {bubbles: true, composed: true}));
      }

      _changeDifficulty() {
        this.difficulty = Math.round(Math.random() * 9) + 1;
        this._newGame();
      }
    }

    window.customElements.define(MinesweeperMenu.is, MinesweeperMenu);
  </script>
</dom-module>
